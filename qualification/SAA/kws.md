# メモ

## わからん言葉
* [X] IPS（Intrusion Prevention System)
  * 不正侵入防止システム
* [X] IDS（Intrusion Detection System）
  * 不正検知システム
* [X] promiscuous mode
  * promiscuous：無差別
  * コンピュータのネットワークインターフェースの動作モードの１つ
  * 電気に受信した全てのデータを読み込むモード
* [X] NATインスタンス
  * 現在は非推奨
* [X] ブートストラップ
  * Bashシェルスクリプトの利用
* [X] SCP（サービスコントロールポリシー）
  * 子アカウントを制御
  * マスターアカウント管理者は_を使用して、組織内のメンバーアカウントのアクセス権限を設定できる
  * 各メンバーアカウントのユーザ/ロールがどのAWSサービスリソース及び個々のAPIアクションへのアクセスを制限できる
* [X] パブリックホストゾーン
  * DNS（ドメインへのアクセスを特定IPに誘導するルール定義）をインターネット上で管理
* [X] パイロットライト
  * 停止した状態のサーバーを別のリージョンに用意すること
* [X] プロビジョニング
  * 設備やサービスに新たな利用申請や需要が生じた際に、資源の割り当てや設定を行い、利用/運用を可能な状態にすること

## ELB
* AutoScalingの設定でELBヘルスチェックを有効にするのが最善
* ELBヘルスチェックを有効にしない場合、EC2ステータスはELBが正常でないと判断したインスタンスも正常であると判断する
* リージョン間でトラフィックのルーティングはできない

## Redshift
  * シングルAZ配置のみをサポート
  * 列指向データベース
  * _ Spectrum
    * 多数のユーザが同時に分析レポートを発行したり、より複雑な検索クエリ/分析シナリオに使用できる

## DynamoDB
  * シームレスにスケーリング
  * テーブルの読み書きを制御する機能として、プロビジョニングされたスループット容量
  * _ストリーム
    * テーブル変更を監視して、最大24時間ログに保存

## VPC
  * １つのリージョンに作成できるサブネット : 200
  * エンドポイント … インターネットアクセスを通さずにAWSネットワーク内のアクセスで他AWSサービスへ接続
    * プライベートリンク型
    * ゲートウェイ型
      * ルートテーブルに設定することができる
        * S3
        * Dynamo DB
  * Elastic IPの上限：５  ※上限申請の緩和可能
  * VPCフローログ
    * _のネットワークIFを通過するネットワークトラフィック情報を保存する機能
    * CloudWatch Logs, S3 を使用して保存される
  * デフォルトはパブリックサブネット
    * プライベートサブネットとするには、送信元0.0.0.0からIGWへのルートを削除する
  * Transit Gateway
    * 中央ハブを介してVPCとオンプレミスネットワークを接続

## IAM
  * アクセスレベルを基準にモニタリングする必要あり
  * Access Analyzerは、アクセス権限の最小化構成をモニタリング
  * データベース認証
    * DBインスタンスに対して認証を実行する時に使用
    * MySQL及びPostgresSQLで動作
    * パスワード代わりに認証トークンを使用、有効期間が15分
    * ネットワークトラフィックはSSLを使用して暗号化
    * DBリソースへのアクセスを一元的に管理

## EC2
  * インスタンスタイプ
    * I3 … ストレージ最適化インスタンス
    * R5 … メモリ最適化
    * T2 … 汎用インスタンス
  * プレイスメントグループ
    * _を設定した上で、その中でインスタンスタイプとインスタンス数を決定
  * 休止（hibernate）
    * 停止する前にメモリが保持している内奥をディスクに保存（EC2の場合はSSD）し、次に起動した際にその内容を読み込んでから開始
  * URLに基づくフィルタリングはプロキシサーバで実施、「ネットワークACL」、「セキュリティグループ」では不可

## S3
  * 別のAWSアカウントに自分が所有するS3バケットへのアクセスを許可したい場合、バケットポリシー/ユーザーポリシーの両方の許可設定が必要
  * CORSでは、VPCエンドポイントは利用されない。
  * バケットポリシー … アクセス管理
  * ライフサイクルポリシー … 保存管理
  * IAMポリシーはバケットにはアタッチできない
  * _アクセスポイント
    * 共有データセットへの大規模なデータアクセスの管理を簡素化する機能
    * アクセスポイントがバケットポリシーと連動する。アクセス先が決まっているインタフェース

## ElastiCache
  * Redis
    * pub/sub

## RDS
  * リージョンサービスのため、マルチリージョンに展開して可用性を高めることができない
  * マルチAZ配置は可能

## Auto Scaling
  * Auto Scalingグループによって、設定をする。起動設定ではない。
  * 同じリージョン内、複数AZを含めることはできる。複数リージョンは含められない。
  * EC2
    * １つ以上のEC2インスタンスを既存のAutoScalingグループにアタッチすることによって自動スケーリングを有効にするオプションあり
    * 条件
      * running
      * AMIが存在
      * 別のAutoScalingにアタッチされていない
  * SQS
    * キューサイズ（メッセージ数）に応じて、ECインスタンスのAutoScalingを実行

## Kinesis
  * 1つのワーカーは1つまたは複数のワーカーを持つ
    * ワーカー … 各アプリケーションインスタンスに対応する処理ユニット
    * レコードプロセッサ … シャードからのデータを処理するユニット

## Kinesis Data Firehose
  * データをリアルタイムで収集、処理、分析することができるが、プログラムコードを実行して解析はできない
  * アクセスログなどのストリーミングデータを各種データストアに保存できる（S3, Redshift, Elasticsearch, Splunk）

## Kinesis Analytics
  * ストリーミングデータを標準SQLでリアルタイムなデータ処理 が向いている
  * ログ解析には向いていない

## ELB
  * リクエストを複数のAZに振り分けることができる
  * AMIIDは設定しない

## SQS
  * FIFOキュー … メッセージの送信は必ず１度だけ処理されメッセージの重複配信が行われることはない

## Trusted Advisor
  * コスト最適化、パフォーマンス、セキュリティ、耐障害性、サービスの制限

## Aurora
  * エンドポイント
    * クラスター   … 書き込みエンドポイント
    * インスタンス   … 各インスタンスが個別に持つエンドポイント
    * 読み込み    … 読み取りエンドポイント、Auroraレプリカがある場合は、ラウンドロビンDNSによって自動で負荷分散

## AppSync
  * GraphQL APIの開発を用意にする、完全マネージド型サービス
  * DynamoDBやLambda、その他のデータソースとの安全な接続に必要な、面倒な作業を自動的に処理する

## SNS
  * エンドポイントで指定できるもの（※ XMLは不可）
    * HTTP/HTTPS
    * Lambda
    * Eメール
    * SQS
    * SMS
    * モバイルプッシュ通知

## SQS
  * ショートポーリング
    * デフォルトはこっち
    * サーバーのサブセットに対して（重みづけされたランダム分散に基づいて）クエリを実行し、利用できるメッセージがあるかどうか調べる
  * ロングポーリング
    * キューが到着するとすぐにメッセージを受信できるようになる

## CloudFront
  * コスト算出要素
    * リクエスト数
    * ★★★ エッジロケーションの場所
    * データ転送量（アウトバウンド）
  * オリジンサーバは以下の3種類に分類
    1. S3オリジン（バケット）
    2. S3オリジン（静的ホスティング）
    3. カスタムオリジン（一般的なウェブサーバ、パブリック/プライベートの両方）
  * ユーザが最も近いエッジロケーションからコンテンツにアクセスできるということは、少ないレイテンシでコンテンツをアップロードできる
  * グローバルユーザーに静的コンテンツと動的コンテンツの両方に低レイテンシーアクセスを提供できる
  * PCIコンプライアンスへの対応 … 監査のために過去365日間の使用状況データを記録することが重要
    * _APIに送信されるリクエストを取得
    * _アクセスログを有効化
  * 地域制限（地理的ブロッキング）

## EFS
  * NFSv4プロトコル
  * バーストモード
    * ファイルシステムのサイズが自動的に拡張され、必要に応じて動的に一時的に処理速度が向上

## FSx
  * Windows Serverのファイルサーバを利用していたオンプレミス環境の移行に適している

## CloudFormation
  * Parameters セクション
    * テンプレートに渡すことができる値を指定
  * Resources セクション
    * 必ず記載しなければならないAWSのリソース及びプロパティを含む
  * Outputs セクション
    * スタックのプロパティを確認すると返される値について説明
  * NetworkACLEntry, Properties
    * RuleAction … 拒否 or 許容
    * Egress … Inbound / Outbound
    * Cidrblock … 送信先/送信元 のIPをCIDR表記

## EBS 
  * 既存EBSボリュームの暗号化設定変更は不可
  * OLTPにはIOPS SSDが推奨

## CloudTrail
  * 操作ログを取得
  * デフォルトで暗号化、S3で管理された暗号化キーによるサーバの側の暗号化（SSE-S3）によるもの
  * _ログファイルの整合性
    * 配信後に変更、削除、変更されていないことを判断する時に使用
    * ハッシュ用、デジタル署名用のRSAを備えたSHA-256を利用
  * ユーザ/ロール/サービスのアクティビティを保存

## Cloudwatch
  * アラーム状態
    * OK, ALARM, INSUFFICIENT_DATA
  * AWS VPNのステータスを、_のメトリクスデータでモニタリング可能
    * TunnelStateのプール値として定義
  * 標準メトリクスでは、OSの外から測定できるメトリクスしか取得できない

## Cloudwatch Logs
  * ★サブスクリプション機能によって、Lambdaへログ連携することができる
  * EC2にエージェントをインストールすると、ログファイルを_にアップロードできる

## ECS
  * ここにタスクを直接設定

## IAM
  * クロスアカウントアクセス
    * AWSのITガバナンス（企業のIT資産の監視・規律を守る仕組み）を提供し、一括請求を使用して部門アカウントを親企業のマスターアカウントにリンクすることでコストの監視が可能
  * デフォルトは何も権限がついていない。

## QuickSight
  * NG … DynamoDB

## IAM Access Analyzer
  * AWSアカウントの外部からアクセスできるリソースを特定する総合的な解析を実施
    * CloudTrailだと、アクティビティログを取得するためIAMユーザが対象となる。

## Route 53
  * トラフィックフローとルーティングポリシーを組み合わせる
  * 位置情報ルーティングポリシーは、リソースに基づかない
  * トラフィックフロー
    * ルーティングをビジュアライザーツールで設定できるサービス
  * マルチバリュー（１つのFQDNに対して複数のIPアドレス）
  * CNAMEレコード
    * canonical（別名）
    * ドメインを別のドメインに関連付けるために使用
  * エイリアスレコード
    * AWSリソース（S3, CloudFront）にトラフィックをルーティング


## Elastic Beanstalk
  * dockerコンテナのデプロイが可能

## Managed VPN
  * オンプレミス環境とVPC間のサイト間で、IPsecVPN接続を実行することができる
    * Direct ConnectはVPNによる接続ではない。

## ADS（Application Discovery Service）
  * オンプレからAWSへの移行計画支援のため、オンプレミスのデータセンターに関する情報収集に特化したサービス

## KWS
  * AWS暗号化SDK
    * 言語固有のSDKとは別の暗号化ライブラリ
    * アプリケーションで暗号化のベストプラクティスをより簡単に実装できる
    * 任意の場所にデータを保存、複合するために使用できる

## Lake Formation
  * データベースとオブジェクトストレージからデータを収集およびカタログ化し、データをS3データレイクに移動し、機械学習アルゴリズムを使用してデータをクリーンアップおよび分類し、機密データへのアクセスを保護する。