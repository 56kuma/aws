# SAA 試験突破

## わからん言葉
  * iSCSI（Small Computer System Interface）
    * データストレージサブシステムを結合するための、インターネットプロトコルベースのストレージネットワーキング標準
  * [ ] Blue/Greenデプロイメント
    * 異なるバージョンのアプリケーションを実行する環境をそれぞれ１つずつ、計２つ作成し、それらを環境面でトラフィックを移動させることによって、アプリケーションの新バージョンをリリースするために利用される技術
  * [ ] NATインスタンスと、NATゲートウェイの違い
    * NATインスタンスはEC2に作成、踏み台とかポート転送をしたければこっちを使う
    * NATゲートウェイはAWSのサービス

## SQS（2：36
  * 優先度付きキュー
    * 優先度の高いキュー/低いキューをそれぞれ用意し、クライアント側ではジョブの優先度でどちらのキューを登録するかを決め、ワーカー側では優先度の高いキューから優先的に実施する。
    * SNSにはそのような機能は無い。
  * キューの保持期間
    * デフォルトは４日、最大は１４日
  * 可視性タイムアウト
    * 処理中のメッセージを他のコンシューマから見えない状態にする

## SNS（1:19
  * マイクロサービス、分散型システム、サーバレスアプリケーションの分離を可能にする
  * 高可用性で、耐久性に優れたセキュアな完全マネージドpub/subメッセージングサービス
  * 高スループット、プッシュベース、多対多のメッセージングトピックを提供

## EC2（2:8
  * リザーブドインスタンス
    * 1年間か3年間の期間を決めて前払いする
      * 1年1カ月利用していたということは、3年間前払いをしていることを意味する。
        * リザーブドインスタンスマーケットプレイスで、未使用の標準リザーブドインスタンスの販売をサポート。
    * リザーブドインスタンス -> オンデマンドインスタンス の切り替えはできない。
  * AMI
    * スナップショットは含まれているため、EBSスナップショットとAMIを両方取得する必要はない
    * リージョン間コピーは可能
  * プレイスメントグループ
    * 複数のインスタンスを論理的にグループ化して、パフォーマンスの向上・耐障害性を高める機能のこと
    * 単一のアベイラビリティゾーン内のインスタンスの論理的なグループ
    

## VPC, EC2
  * VPC内に設置したEC2がインターネットからアクセスできない
    1. インターネットゲートウェイがサブネットに未設定
    1. ネットワークACLの設定でインターネットアクセスが未許可
    1. セキュリティグループの設定でインターネットアクセスが未許可
    1. パブリックIPアドレスが付与されていない
  * [X] ルートテーブル
    * 分割したネットワーク同士を通信させるための通信経路
    * この通信経路をルートと呼ぶ
    * ルート（送信先、ターゲット）をまとめたデータ構造のことをルートテーブル
    * マネジメントコンソールで管理
    * サブネット同士を通信させる

## ECS
  * ECSタスク
    * 起動タイプを選ぶ、Fargate or EC2
    * ロールの付与は可能

## NATゲートウェイ（2:9
  * プライベートサブネットのインスタンスからはインターネットやほかのAWSサービスに接続できるが、インターネットから直接にインスタンスとの接続を開始できないようにすることができる。
    * [ ] ハンズオンで体験可能

## EBS（1:8（2:11）
  * EBSレプリケーションという機能は無い
  * スループット最適化HDDは、最大スループットが500MiB/秒

## DynamoDB（1:9（2:12）
  * JSON形式のファイルを保存
  * トラフィック量が多くても低レイテンシーを保つ
  * GSI（グローバルセカンダリインデックス）
    * プライマリーキーとは異なる属性を使って作成するインデックス
    * テーブルとは別のキャパシティユニットでスループットを指定
  * キャパシティーユニット
    * 読み込み/書き込み 容量
    * 事前に設定して上限を決定
    * 上限を増やせばその分費用はかさむ


## S3（1:12,24,30,36（2:13,14,15,18,25,40,41,49）
  * プレフィックス利用の日付ベースでアップロードを分散することで、以下のようにパフォーマンス向上
    * 3,500リクエスト/秒
    * データの取得で5,500/秒
  * S3イベント
    * PUT,POST,COPY 他いろいろを
  * Standard IA（Infrequent Access）
    * 低頻度アクセスだが、読み込みはすぐにできる
  * Transfer Acceleration
    * クライアントとS3パケット間で、長距離にわたるファイル転送を高速、簡単、安全に行える
    * CloudFrontの世界中に分散したエッジロケーションを利用している
      * エッジロケーションに到着したデータは、最適化されたネットワークパスでAmazonS3にルーティングされる
  * マルチパートアップロード
    * 大容量オブジェクトをいくつかに分けてアップロードできるようになる、スループット向上などの利点あり。
  * セキュリティグループは設定できない
  * S3 API
    * AWS CLIから、Amazon S3 API への直通アクセスができるAPIレベルのコマンド
  * 事前署名付きURL
    * オブジェクトの所有者が独自のセキュリティ証明書を使用して、ダウンロード期限付きURLを発行する
  * CORS（Cross-Origin Resource Sharing）
    * S3にあるファイルを一時的に不特定多数に公開したい場合
    * IAMユーザアカウントをもっていない人に対して、一時的にDL/ULさせたい場合
    * オリジン
      * プロトコルとドメイン名をつなげたもの
      * セキュリティの脆弱性を防ぐためにSame-Origin Policyというポリシーが設けられ、リソースへの通信制限あり
    * 特定のドメインにロードされたクライアントウェブアプリが異なるドメイン内のリソースと通信する方法を定義
  * クロスリージョンレプリケーション 
    * レプリケート元/先の両方でバージョニングを有効にする必要がある
  * S3バケットにはイベント機能があり、CloudWatchによるS3イベント処理を確認する設定は必要無い
  * 各AWSリージョンにおいて、最小３つのAZで運用される
  * SSE-S3
    * Server Side Encryption
    * オブジェクトをデータセンターのディスクに保存する前にS3で暗号化し、オブジェクトをダウンロードするときに複合化
    


## FSx for Lustre
  * Lustre（ラスター、分散ファイルシステム）
  * 「富岳」に使われている

## RDS（1:10,32
  * RDS Proxy
    * アプリケーションとRDSデータベースの間の仲介役として機能
    * 必要となるデータベースへのコネクションプールを確立および管理し、アプリケーションからのデータベース接続を少なく抑える
  * Auto Scaling
    * ストレージに対してのみ利用可能
  * Sharding
    * データベース内の複数のテーブルにデータを分割するための一般的な概念
    * 水平分割
    * リクエストの増加などで単一のマスターDBの運用で限界がある場合に、一定のルールに従いデータを複数のDBにふりわけることでアクセスを分散

## Route53
  * レコード
    * CNAME（Canonical Name）
      * Canonical（標準的な）
      * メイン名、ホスト名の別名を定義する
    * TXT（Text）
      * ホスト名に関連付けるテキスト情報を定義するレコード
    * MX（Mail Exchange）
      * 対象ドメイン宛のメール配送先ホスト名を定義するレコード
    * A（Address）
      * ホスト（FQDN）とサーバーを識別するグローバルIPアドレスの関連付けを定義するレコード
    * DNAME（Domain ？）
      * DNS名の部分木全体をマッピングする機能を提供するレコード
    * NS（Name Server）
      * ドメインのゾーン情報を管理するDNSサーバを定義するもの
  * ルーティング
    * 加重ルーティング
      * 新しいバージョンのソフトウェアのテストに適している

## CloudFront（1:3,22,33）（2:25）
  * メタデータ、セッションデータ、一連のストリームデータを蓄積することでビッグデータ解析に利用できる
  * OAI（Origin Access Identity）
    * CloudFrontからS3にアクセスする際に使用する特別な証明書のようなもの
    * S3側でどのCloudFront経由かを識別し、特定のCloudFrontのみアクセスを許可するように設定する
    * 適切な言語表示にはクエリ文字列パラメータ値に基づいて言語を決定する
  * データ転送コスト
    * 供給されたデータ総量に基づくため、非圧縮ファイルより圧縮府ファイルを供給するほうがコストが安くなる
  * コンテンツが圧縮されるとDL時間が短縮される。
    * JSやCSSでは、DL時間が短縮されると、ウェブページが表示されるまでの時間が短縮される
  * CloudFrontで利用したキャッシュデータの蓄積はCloudFront側で処理される

## WAF
  * Web Application Firewall
  * Referr制限
    * WAFのWEB ACLによる制御

## Cloud Formation
  * 必須項目は「Resource」のみ

## VPC（2：36,48）
  * カスタマーゲートウェイ
    * データセンターをAmazpn VPCにリンクする際の、作業者側アンカー
  * DNS Hostnames
    * パブリックIPv4アドレスとパブリックDNSホスト名を割り当てるかの設定
    * デフォルトは有効

## STS（2：44）
  * SAML（Security Assertion Markup Language）
    * OASIS（XML関連の標準化団体）によって策定
    * 異なるインターネットドメイン間でユーザ認証を行うためのXMLをベースにした標準規格
  * STSはSAML2.0などのオープンスタンダードをサポートしている

## Auto Scaling（2：45
  * 設定フロー
    * 起動テンプレート > Auto Scalingグループ
    * 起動テンプレートの設定にはAMIが必要、他にインスタンスタイプやAMI-ID、キーペア、Security Groupなど
  * スケーリングの種類
    * 簡易スケーリング 
      * 1つのメトリクスに対し、１種類のみスケーリング調整値を指定
    * スケジュールスケーリング
      * 指定した日付と時刻でスケーリング
    * ステップスケーリング
      * 1つのメトリクスに対し、複数のスケーリング調整値を指定

## Lambda
  * 一時ボリューム量の最大：512MB
  * 同時実行数：1000
  * 関数とレイヤーストレージ：75GB

## Kinesis（1:11
  * KCL（Kinesis Client Library）ワーカー
    * 各アプリケーションインスタンスに対応する処理ユニット
  * Kinessis Analytics
    * ストリーミングデータを標準SQLでリアルタイムなデータ処理を実施

## EFS（2:55）
  * マウントターゲット
    * ENI

## Transit Gateway（2:57
  * 中央のゲートウェイからネットワーク上にあるVPC,オンプレミスのデータセンター,リモートオフィスをそれぞれに単一の接続を構築して管理することができる
    * hub-and-spoke … 自転車のハブとタイヤに向かうスポークに見立てたことから

## CloudWatch（2:60
  * イベント
    * アプリケーションの可用性の問題発生時やリソースの変更時などのシステムイベントに自動的に対応できる
    * AWSリソースの変更を示すシステムイベントのほぼリアルタイムのストリームを提供

## CloudWatch Logs
  * EC2, CloudTrail, Route 53, その他のソースのログファイルの監視、保存、アクセスができる
  * アプリケーションログやApacheログを見るためのもの

## IAM（2:61
  * IAMロール
    * リソース間のアクセス権限許可を実施する際の権限設定であり、EC2インスタンスからDBへのトラフィック通信を制御することができない

## DynamoDB（2:65
  * DynamoDBストリーム
    * テーブル内の項目レベルの変更の時系列シーケンスをキャプチャし、この情報を最大24時間ログに保存する

## AWS KMS（1:18
  * エンベロープ暗号化

## Strage Gateway（1:28
  * オンプレとAWSクラウドストレージをシームレスに繋ぐ
  * 用途 -> バックアップ、アーカイブ、災害対策、クラウドデータ処理、ストレージの階層化、移行
  * NFS,SMB,iSCSIなどの標準ストレージプロトコルを使用
  * iSCSI（Small Computer System Interface）
    * データストレージサブシステムを結合するための、インターネットプロトコルベースのストレージネットワーキング標準
  * 保管型
    * プライマリデータ（自社データ）をローカルに保存する一方で、そのデータを非同期にAWSにバックアップ
    * データセットに低レイテンシーにアクセスできる
  * キャッシュ型
    * 頻繁にアクセスされるデータはローカルのストレージゲートウェイに保持しながら、S3をプライマリデータストレージとする

## Direct Connect（1:28
  * AWSとオフィスやデータセンターを専用線で繋ぐ

## Red